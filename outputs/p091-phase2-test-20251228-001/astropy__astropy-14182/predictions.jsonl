{"instance_id": "astropy__astropy-14182", "model_patch": "diff --git a/astropy/io/ascii/tests/test_rst.py b/astropy/io/ascii/tests/test_rst.py\n--- a/astropy/io/ascii/tests/test_rst.py\n+++ b/astropy/io/ascii/tests/test_rst.py\n@@ -2,7 +2,28 @@\n from io import StringIO\n\n+import numpy as np\n+\n+import astropy.units as u\n from astropy.io import ascii\n+from astropy.table import QTable\n\n from .common import assert_almost_equal, assert_equal\n\n ==== ========= ==== ====\n \"\"\",\n     )\n+\n+\n+def test_rst_with_header_rows():\n+    \"\"\"Round-trip a table with header_rows specified\"\"\"\n+    lines = [\n+        \"======= ======== ====\",\n+        \"   wave response ints\",\n+        \"     nm       ct     \",\n+        \"float64  float32 int8\",\n+        \"======= ======== ====\",\n+        \"  350.0      1.0    1\",\n+        \"  950.0      2.0    2\",\n+        \"======= ======== ====\",\n+    ]\n+    tbl = QTable.read(lines, format=\"ascii.rst\", header_rows=[\"name\", \"unit\", \"dtype\"])\n+    assert tbl[\"wave\"].unit == u.nm\n+    assert tbl\n ...\n\ndiff --git a/astropy/io/ascii/rst.py b/astropy/io/ascii/rst.py\n--- a/astropy/io/ascii/rst.py\n+++ b/astropy/io/ascii/rst.py\n@@ -27,19 +27,28 @@\n     Example::\n\n+        >>> from astropy.table import QTable\n+        >>> import astropy.units as u\n+        >>> import sys\n+        >>> tbl = QTable({\"wave\": [350, 950] * u.nm, \"response\": [0.7, 1.2] * u.count})\n+        >>> tbl.write(sys.stdout,  format=\"ascii.rst\")\n+        ===== ========\n+         wave response\n+        ===== ========\n+        350.0      0.7\n+        950.0      1.2\n+        ===== ========\n\n-        ==== ===== ======\n-        Col1  Col2  Col3\n-        ==== ===== ======\n-          1    2.3  Hello\n-          2    4.5  Worlds\n-        ==== ===== ======\n\n-    Like other fixed-width formats, when writing a table you can provide ``header_rows``\n-    to specify a list of table rows to output as the header.  For example::\n+    def __init__(self, header_rows=None, **kwargs):\n+        super().__init__(**kwargs)\n+        self.header_rows = header_rows\n+\n+    Like other fixed-width formats, when writing a table you can provide ``header_rows``\n+    to specify a list of table rows to output as the header. For example::\n\n       >>> tbl.write(sys.stdout,  format=\"ascii.rst\", header_rows=['name', 'unit'])\n       ===== ========\n        wave response\n          nm       ct\n       ===== ========\n       350.0      0.7\n       950.0      1.2\n       ===== ========\n\n     Currently there is no support for reading tables which utilize continuation lines,\n     or for ones which define column spans through the use of an additional\n@@ -57,10\n ...", "model_name_or_path": "test-aware-debugging"}
