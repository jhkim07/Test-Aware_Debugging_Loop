{"instance_id": "astropy__astropy-14182", "model_patch": "--- a/astropy/io/ascii/tests/test_rst.py\n+++ b/astropy/io/ascii/tests/test_rst.py\n@@ -170,6 +170,35 @@\n dat = ascii.read(table, Reader=ascii.RST)\n\n+def test_rst_with_header_rows():\n+    \"\"\"Test RST output with header_rows specified\"\"\"\n+    lines = [\n+        \"======= ========\",\n+        \"   wave response\",\n+        \"     nm       ct\",\n+        \"float64  float32\",\n+        \"======= ========\",\n+        \"  350.0      1.0\",\n+        \"  950.0      2.0\",\n+        \"======= ========\",\n+    ]\n+    tbl = QTable.read(lines, format=\"ascii.rst\", header_rows=[\"name\", \"unit\", \"dtype\"])\n+    assert tbl[\"wave\"].unit == u.nm\n+    assert tbl[\"response\"].dtype.name == \"float32\"\n+    out = StringIO()\n+    tbl.write(out, format=\"ascii.rst\", header_rows=[\"name\", \"unit\", \"dtype\"])\n+    expected = \"\"\"\n+======= ========\n+  wave response\n+    nm       ct\n+float64  float32\n+======= ========\n+ 350.0      1.0\n+ 950.0      2.0\n+======= ========\n+\"\"\"\n+    assert_equal_splitlines(out.getvalue(), expected)\n+\n def test_write_normal():\n     \"\"\"Write a table as a normal SimpleRST Table\"\"\"\n     out = StringIO()\n", "model_name_or_path": "test-aware-debugging"}
