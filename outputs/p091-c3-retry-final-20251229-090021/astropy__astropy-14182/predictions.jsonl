{"instance_id": "astropy__astropy-14182", "model_patch": "--- a/astropy/io/ascii/tests/test_rst.py\n+++ b/astropy/io/ascii/tests/test_rst.py\n@@ -11,6 +11,10 @@\n     assert_equal(arg1.splitlines(), arg2.splitlines())\n\n+import numpy as np\n+\n+import astropy.units as u\n+from astropy.table import QTable\n def test_read_normal():\n     \"\"\"Normal SimpleRST Table\"\"\"\n     table = \"\"\"\n@@ -170,6 +174,26 @@\n dat = ascii.read(table, Reader=ascii.RST)\n\n+\n+\n+def test_rst_with_header_rows():\n+    \"\"\"Round-trip a table with header_rows specified\"\"\"\n+    lines = [\n+        \"======= ======== ====\",\n+        \"   wave response ints\",\n+        \"     nm       ct     \",\n+        \"float64  float32 int8\",\n+        \"======= ======== ====\",\n+        \"  350.0      1.0    1\",\n+        \"  950.0      2.0    2\",\n+        \"======= ======== ====\",\n+    ]\n+    tbl = QTable.read(lines, format=\"ascii.rst\", header_rows=[\"name\", \"unit\", \"dtype\"])\n+    assert tbl[\"wave\"].unit == u.nm\n+    assert tbl[\"response\"].unit == u.ct\n+    assert tbl[\"ints\"].dtype == np.int8\n+    assert tbl[\"wave\"][0] == 350.0\n+    assert tbl[\"response\"][1] == 2.0\n def test_write_normal():\n     \"\"\"Write a table as a normal SimpleRST Table\"\"\"\n     out = StringIO()\n\n--- a/astropy/io/ascii/rst.py\n+++ b/astropy/io/ascii/rst.py\n@@ -26,7 +26,6 @@\n         return vals, starts, ends\n\n-class SimpleRSTData(FixedWidthData):\n     start_line = 3\n     end_line = -1\n     splitter_class = FixedWidthTwoLineDataSplitter\n@@ -57,10 +56,11 @@\n     data_class = SimpleRSTData\n     header_class = SimpleRSTHeader\n\n-    def __init__(self):\n-        super().__init__(delimiter_pad=None, bookend=False)\n+    def __init__(self, header_rows=None):\n+        super().__init__(delimiter_pad=None, bookend=False, header_rows=header_rows)\n\n     def write(self, lines):\n         lines = super().write(lines)\n-        lines = [lines[1]] + lines + [lines[1]]\n+        idx = len(self.header.header_rows)\n+        lines = [lines[idx]] + lines + [lines[idx]]\n         return lines\n", "model_name_or_path": "test-aware-debugging"}
