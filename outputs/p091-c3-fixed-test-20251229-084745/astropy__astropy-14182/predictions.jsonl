{"instance_id": "astropy__astropy-14182", "model_patch": "--- a/astropy/io/ascii/tests/test_rst.py\n+++ b/astropy/io/ascii/tests/test_rst.py\n@@ -170,6 +170,24 @@\n dat = ascii.read(table, Reader=ascii.RST)\n\n+def test_write_rst_with_header_rows():\n+    \"\"\"Test writing a table with header_rows specified in RST format\"\"\"\n+    from astropy.table import QTable\n+    import astropy.units as u\n+    import sys\n+    tbl = QTable({'wave': [350, 950] * u.nm, 'response': [0.7, 1.2] * u.count})\n+    out = StringIO()\n+    tbl.write(out, format=\"ascii.rst\", header_rows=[\"name\", \"unit\"])\n+    expected = \"\"\"\\\n+===== ========\n+ wave response\n+===== ========\n+350.0      0.7\n+950.0      1.2\n+===== ========\n+\"\"\"\n+    assert_equal_splitlines(out.getvalue(), expected)\n+\n def test_write_normal():\n     \"\"\"Write a table as a normal SimpleRST Table\"\"\"\n     out = StringIO()\n\n--- a/astropy/io/ascii/rst.py\n+++ b/astropy/io/ascii/rst.py\n@@ -27,6 +27,9 @@\n class SimpleRSTData(FixedWidthData):\n+    start_line = None\n+    end_line = -1\n+    splitter_class = FixedWidthTwoLineDataSplitter\n     start_line = 3\n     end_line = -1\n     splitter_class = FixedWidthTwoLineDataSplitter\n@@ -57,7 +60,9 @@\n     data_class = SimpleRSTData\n     header_class = SimpleRSTHeader\n\n-    def __init__(self):\n+def __init__(self, header_rows=None):\n+        super().__init__(delimiter_pad=None, bookend=False)\n+        self.header_rows = header_rows\n         super().__init__(delimiter_pad=None, bookend=False)\n\n     def write(self, lines):\n", "model_name_or_path": "test-aware-debugging"}
