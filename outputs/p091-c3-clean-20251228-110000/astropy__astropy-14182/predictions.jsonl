{"instance_id": "astropy__astropy-14182", "model_patch": "--- a/astropy/io/ascii/tests/test_rst.py\n+++ b/astropy/io/ascii/tests/test_rst.py\n@@ -171,4 +171,22 @@\n def test_write_normal():\n\n+\n\n+\n\n+def test_rst_with_header_rows():\n\n+    \"\"\"Test writing a table with header_rows specified\"\"\"\n\n+    tbl = QTable({'wave': [350, 950] * u.nm, 'response': [0.7, 1.2] * u.count})\n\n+    out = StringIO()\n\n+    tbl.write(out, format='ascii.rst', header_rows=['name', 'unit'])\n\n+    expected = (\n\n+        \"======= ========\\n\"\n\n+        \"  wave response\\n\"\n\n+        \"    nm       ct\\n\"\n\n+        \"======= ========\\n\"\n\n+        \" 350.0     0.7\\n\"\n\n+        \" 950.0     1.2\\n\"\n\n+        \"======= ========\\n\"\n\n+    )\n\n+    assert_equal_splitlines(out.getvalue(), expected)\n\n+\n\n     \"\"\"Write a table as a normal SimpleRST Table\"\"\"\n\n     out = StringIO()\n\n     ascii.write(dat, out, Writer=ascii.RST)\n\n--- a/astropy/io/ascii/rst.py\n+++ b/astropy/io/ascii/rst.py\n@@ -57,8 +57,13 @@\n     data_class = SimpleRSTData\n\n     header_class = SimpleRSTHeader\n\n-    def __init__(self):\n\n+def __init__(self, header_rows=None):\n\n+        super().__init__(delimiter_pad=None, bookend=False, header_rows=header_rows)\n\n         super().__init__(delimiter_pad=None, bookend=False)\n\n-    def write(self, lines):\n\n+def write(self, lines):\n\n+        lines = super().write(lines)\n\n+        idx = len(self.header.header_rows)\n\n+        lines = [lines[idx]] + lines + [lines[idx]]\n\n+        return lines\n\n         lines = super().write(lines)\n\n         lines = [lines[1]] + lines + [lines[1]]\n\n         return lines", "model_name_or_path": "test-aware-debugging"}
