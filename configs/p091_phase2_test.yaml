# P0.9.1 Phase 2 Test Configuration
# Test malformed patch auto-cleaning mechanism
# Goal: Fix astropy-14182 TSS from 0.5 to 1.0

runner:
  mode: swebench_harness
  dataset_name: princeton-nlp/SWE-bench_Lite

instances:
  list:
    - astropy__astropy-14182  # Malformed patch issue - target for Phase 2

limits:
  max_iters: 8
  time_limit_minutes: 30

llm:
  enabled: true
  model: gpt-4o-mini

policy:
  forbid_skip: true
  forbid_xfail: true
  forbid_network: true
  restrict_file_io: true

split:
  public_ratio: 0.7
  seed: 0

# Phase 2 Features:
# - Malformed patch content detection and auto-cleaning
# - Remove RST table separators (==== ========= ====)
# - Remove orphaned closing parentheses
# - Fix lines with missing diff prefixes
# - Clean both test-only and combined patches

# Expected Results:
# - Success rate: 100% (1/1)
# - BRS: 1.0 (maintained)
# - TSS: 1.0 (improved from 0.5)
# - Overall: 0.994 (improved from 0.825)
